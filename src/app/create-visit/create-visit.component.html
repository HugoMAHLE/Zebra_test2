<!-- <div class="container">
    <h2>Create a new visit</h2>
    <div class="card">
        <div class="card-body">
           <form>
                <div class="card-body">
                    <label class="form-label">
                        Name of your company
                    </label>
                    <input type="text" formControlName="name" class="form-control"
                        placeholder="Please enter the name of your company">
                    <div class="errors-container"
                        *ngIf="nameControl.invalid && (nameControl.touched) || nameControl.dirty">
                        <p class="error-msg" *ngIf="nameControl.hasError('required')" style="color: #bd0c0c">The field must be required.</p>
                    </div>
                </div>

                <div class="card-body">
                    <label class="form-label">
                        E-mail
                    </label>
                    <input type="email" formControlName="email" class="form-control"
                        placeholder="Please enter the email of the company">
                    <div class="errors-container"
                        *ngIf="emailControl.invalid && (emailControl.touched) || emailControl.dirty">
                        <p class="error-msg" *ngIf="emailControl.hasError('required')" style="color: #bd0c0c">The field must be required.</p>
                        <p class="error-msg" *ngIf="emailControl.hasError('email')" style="color: #bd0c0c">The field must be a valid email.</p>
                    </div>
                </div>

                <div class="card-body">
                    <label class="form-label">
                        Please enter your date of visit
                    </label>
                    <input type="date" formControlName="date" class="form-control" placeholder="">
                    <div class="errors-container"
                        *ngIf="dateControl.invalid && (dateControl.touched) || dateControl.dirty">
                        <p class="error-msg" *ngIf="dateControl.hasError('required')" style="color: #bd0c0c">The field must be required.</p>
                    </div>
                </div>

                <div class="card-body">
                    <label class="form-label">
                        Please enter your check-in time
                    </label>
                    <input type="time" formControlName="ent" class="form-control" placeholder="">
                    <div class="errors-container"
                        *ngIf="entControl.invalid && (entControl.touched) || entControl.dirty">
                        <p class="error-msg" *ngIf="entControl.hasError('required')" style="color: #bd0c0c">The field must be required.</p>
                    </div>
                </div>

                <div class="card-body">
                    <label class="form-label">
                        Purpose of your visit
                    </label>
                    <input type="text" formControlName="reason" class="form-control"
                        placeholder="Please enter the reason of your visit">
                    <div class="errors-container"
                        *ngIf="reasonControl.invalid && (reasonControl.touched) || reasonControl.dirty">
                        <p class="error-msg" *ngIf="reasonControl.hasError('required')" style="color: #bd0c0c">The field must be required.</p>
                    </div>
                </div>

                <mat-divider class="divider"></mat-divider>

                <div class="division" style="text-align: right;">
                    <div>
                        <button mat-button class="b" (click)="addVisitor()">Add visitor [+]</button>
                        <button mat-button class="a" (click)="createVisitor()">Create new visitor</button>
                    </div>
                </div>

                <div class="card">
                    <ag-grid-angular class="ag-theme-quartz" style="height: 300px;" [columnDefs]="colDef"
                        [defaultColDef]="defaultColDef">
                    </ag-grid-angular>
                </div>

                <div class="container">
                    <div class="card">
                        <button class="btn btn-dark" type="submit" [disabled]="CVisitForm.invalid">
                            Create visit
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div> -->

<div class="container">
  <h2>Create a new visit</h2>
  <div class="card">
      <div class="card-body">
          <form>
              <!-- Combo Box for Company Names -->
              <mat-form-field class="flex-grow-1">
                <mat-select formControlName="name" placeholder="Select your company">
                    <mat-option *ngFor="let company of companies" [value]="company">
                        {{ company }}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="nameControl.hasError('required')">The field must be required.</mat-error>
            </mat-form-field>

            <!-- Button to Add New Company -->
            <button mat-icon-button color="primary" (click)="AddCompanyg()" style="margin-left: 8px;">
                <mat-icon>add</mat-icon>
            </button>

              <div class="card-body">
                  <label class="form-label">E-mail</label>
                  <input type="email" formControlName="email" class="form-control"
                      placeholder="Please enter the email of the company">
                  <div class="errors-container"
                      *ngIf="emailControl.invalid && (emailControl.touched || emailControl.dirty)">
                      <p class="error-msg" *ngIf="emailControl.hasError('required')" style="color: #bd0c0c">
                          The field must be required.
                      </p>
                      <p class="error-msg" *ngIf="emailControl.hasError('email')" style="color: #bd0c0c">
                          The field must be a valid email.
                      </p>
                  </div>
              </div>

              <div class="card-body">
                  <label class="form-label">Please enter your date of visit</label>
                  <input type="date" formControlName="date" class="form-control">
                  <div class="errors-container"
                      *ngIf="dateControl.invalid && (dateControl.touched || dateControl.dirty)">
                      <p class="error-msg" *ngIf="dateControl.hasError('required')" style="color: #bd0c0c">
                          The field must be required.
                      </p>
                  </div>
              </div>

              <div class="card-body">
                  <label class="form-label">Please enter your check-in time</label>
                  <input type="time" formControlName="ent" class="form-control">
                  <div class="errors-container"
                      *ngIf="entControl.invalid && (entControl.touched || entControl.dirty)">
                      <p class="error-msg" *ngIf="entControl.hasError('required')" style="color: #bd0c0c">
                          The field must be required.
                      </p>
                  </div>
              </div>

              <div class="card-body">
                  <label class="form-label">Purpose of your visit</label>
                  <input type="text" formControlName="reason" class="form-control"
                      placeholder="Please enter the reason of your visit">
                  <div class="errors-container"
                      *ngIf="reasonControl.invalid && (reasonControl.touched || reasonControl.dirty)">
                      <p class="error-msg" *ngIf="reasonControl.hasError('required')" style="color: #bd0c0c">
                          The field must be required.
                      </p>
                  </div>
              </div>

              <mat-divider class="divider"></mat-divider>

              <div class="division" style="text-align: right;">
                  <div>
                      <button mat-button class="b" (click)="addVisitor()">Add visitor [+]</button>
                      <button mat-button class="a" (click)="createVisitor()">Create new visitor</button>
                  </div>
              </div>

              <!-- Material Table -->
              <div class="card">
                  <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                      <!-- Column: Name -->
                      <ng-container matColumnDef="name">
                          <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{ element.name }} </mat-cell>
                      </ng-container>

                      <!-- Column: Email -->
                      <ng-container matColumnDef="email">
                          <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{ element.email }} </mat-cell>
                      </ng-container>

                      <!-- Column: Date -->
                      <ng-container matColumnDef="date">
                          <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{ element.date }} </mat-cell>
                      </ng-container>

                      <!-- Column: Reason -->
                      <ng-container matColumnDef="reason">
                          <mat-header-cell *matHeaderCellDef> Reason </mat-header-cell>
                          <mat-cell *matCellDef="let element"> {{ element.reason }} </mat-cell>
                      </ng-container>

                      <!-- <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row> -->
                  </mat-table>
              </div>

              <div class="container">
                  <div class="card">
                      <button class="btn btn-dark" type="submit" [disabled]="CVisitForm.invalid">
                          Create visit
                      </button>
                  </div>
              </div>
          </form>
      </div>
  </div>
</div>
